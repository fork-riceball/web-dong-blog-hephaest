---
isDraft: false
icon:
  name: material-symbols:data-object-rounded
  title: JS 物件语法符号
subHeadline: Why do you need JavaScript Enhanced Object Literals?
headline: 为什么你需要 JavaScript 增强版对象字面量？
excerpt: 在 JavaScript 中活用 ES6 带来的增强版对象字面量可以精简代码片段，甚至可以动态计算创建对象内的项目！字面量指的是代表它自己的数值，例如数字 `25` 或 `你好世界`，而增强对象字面量就是在对象中使用的值。
category: JavaScript
tags:
  - Syntax
publishDate: 2023-06-22
---

在 ES6 推出的增强对象字面量让编写对象时不再繁琐，字面量指的是代表它自己的数值，例如数字 `25` 或 `你好世界`，而增强对象字面量就是在对象中使用的值。

## 键缩写

```js
const name = 'Joe';
const age = 21;

const person = {
  name: name,
  age: age,
};
```

在以上传统示例中，可以看到对象的键与变量名称相同，这时候就可以使用键缩写来简化写法：

```js
const name = 'Joe';
const age = 21;

const person = {
  name,
  age,
};
```

它们的结果是一样的，但键缩写后更简洁可以避免重复，就是一个便利的缩写语法。

## 函数缩写

既然同名的键与属性可以使用缩写，那么函数也有对应的缩写语法吗？有的！

```js
const person = {
  greeting: function () {
    console.log('Hi!');
  },
};
```

以上就是传统在对象中定义函数的写法，现在可以使用函数缩写来简化：

```js
const person = {
  greeting() {
    console.log('Hi!');
  },
};
```

它们的结果是一模一样的，但函数缩写后更简洁可以避免重复，就是一个便利的缩写语法。要额外注意如果想在对象中创建箭头函数就不能使用上述写法，而要这样写：

```js
const person = {
  greeting: () => {
    console.log('Hi!');
  },
};
```

关于一般函数与箭头函数仍有些许根本上的不同，详细可以参考我的另外一篇文章：[为什么你需要箭头函数？](/post/why-you-need-arrow-function/)

## 计算属性

试想如果想要动态创建对象的键……你没办法！在计算属性出现之前只能先声明变量再改动对象键：

```js
const person = {};
person['name'] = 'Joe';
```

但是现在可以使用计算属性来简化：

```js
const key = 'name';
const value = 'Joe';

const person = {
  [key]: value,
};
```

```js
{
  "name": "Joe"
}
```

这样就可以动态创建对象的键，如果声明的对象需要动态依靠变量来创建就是使用计算属性的好时机。

## 参考资料

- [Literal MDN](https://developer.mozilla.org/en-US/docs/Glossary/Literal)
- [Enhanced Object Literals - Web Dev Simplified Blog](https://blog.webdevsimplified.com/2020-04/use-effect/)
- [Confusion between constants and literals? - stack overflow](https://stackoverflow.com/questions/44767354/confusion-between-constants-and-literals)

