---
headline: Git Pre-Commit Hook 是好是壞？
publishDate: 2024-11-28
category: Non-Technical Discussion
social:
  threads: https://www.threads.net/@webdong.dev/post/DC4ODu3hemB
---

想到 Theo 的影片：[Pre-Commit Hooks Are Bad](https://www.youtube.com/watch?v=RAelLqnnOp0)，評論也有一些爭論。简单来说 Git 可以在 Commit 时触发行为，通常会用来跑一些 CI 代码检测流程。这似乎是一个很好的时机可以在错误进入版本控制系统之前拦截，但同时也可能成为阻碍。

- ✅ 正向：
  - **提早发现错误**： 可以在代码进入版本控制之前进行检测，迴避低质量或错误的代码，减少了 Code Review 时浪费的时间。
  - **减少 CI 压力**：开发者本地检测并提早警告错误，降低负担。
- ❌ 负面：
  - **过度依赖本地环境**：Hook 的执行依赖开发者的本地环境，如果环境未正确配置，可能导致不一致的行为。
  - **影响开发者的灵活性**：干扰开发者在本地进行快速实验，强制提交的代码符合某些规范。

过往我遇到专案 Pre-Commit Hooks 总是要跑个 5 、 6 秒，虽然还能接受但频繁的 commit 时等待检测是挺恼人的，我会偏向 CI 检测要有再看团队习惯。

