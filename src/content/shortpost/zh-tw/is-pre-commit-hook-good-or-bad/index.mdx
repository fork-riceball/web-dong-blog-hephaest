---
headline: Git Pre-Commit Hook 是好是壞？
publishDate: 2024-11-28
category: Non-Technical Discussion
social:
  threads: https://www.threads.net/@webdong.dev/post/DC4ODu3hemB
---

想到 Theo 的影片：[Pre-Commit Hooks Are Bad](https://www.youtube.com/watch?v=RAelLqnnOp0)，評論也有一些爭論。簡單來說 Git 可以在 Commit 時觸發行為，通常會用來跑一些 CI 程式碼檢測流程。這似乎是一個很好的時機可以在錯誤進入版本控制系統之前攔截，但同時也可能成為阻礙。

- ✅ 正向：
  - **提早發現錯誤**： 可以在程式碼進入版本控制之前進行檢測，迴避低品質或錯誤的程式碼，減少了 Code Review 時浪費的時間。
  - **減少 CI 壓力**：開發者本地檢測並提早警告錯誤，降低負擔。
- ❌ 負面：
  - **過度依賴本地環境**：Hook 的執行依賴開發者的本地環境，如果環境未正確配置，可能導致不一致的行為。
  - **影響開發者的靈活性**：干擾開發者在本地進行快速實驗，強制提交的程式碼符合某些規範。

過往我遇到專案 Pre-Commit Hooks 總是要跑個 5 、 6 秒，雖然還能接受但頻繁的 commit 時等待檢測是挺惱人的，我會偏向 CI 檢測要有再看團隊習慣。
