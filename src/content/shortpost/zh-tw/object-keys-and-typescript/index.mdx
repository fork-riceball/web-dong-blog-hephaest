---
headline: 為什麼 TypeScript 中 Object.keys 接受任何物件都只返回 string[] 型別？
publishDate: 2024-11-06
category: TypeScript
social:
  threads: https://www.threads.net/@webdong.dev/post/DCBzNe2hbLc
---

![Object.keys 錯誤範例](object-keys-error.png)

如圖中錯誤訊息得知 `person` 會需要接受特定值的 `key` 而非任意 `string`，那背後麼又是什麼原因 `Object.keys` 被設計成返回更為鬆散的 `string[]` 型別呢？明明很明顯可以透過 `keyof` 得出所有 `key` 的型別？

因為 JavaScript 物件可以 「在執行時動態改變其內容」。

如果將 `Object.keys` 設計成返回 `(keyof T)[]`，該型別定義無法準確反映 JavaScript 物件在運行時可能遭遇的變化，因為物件屬性可以被動態修改，所以 TypeScript 選擇使用更寬鬆的 `string[]` 型別來確保安全。

結論： TypeScript 尊重 JavaScript 動態型別的特性，導致 Object.keys 最多只能確保返回 `string[]` 型別。

分析細節與引用參考還有三種應對方式寫在部落格中：[為什麼 TypeScript 中 Object.keys 返回 string[] 型別？](https://www.webdong.dev/post/why-object-keys-returns-array-of-strings-in-typescript/)
